(this.webpackJsonpformy=this.webpackJsonpformy||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(8),r=n.n(i),s=n(30),o=n(140),l=n(145),u=n(150),j=n(149),d=n(142),p=n(42),h=n(151),b=n(144),O=n(6),g=Object(o.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},paddingTop:e.spacing(1)}}}));function f(e){var t=g();return Object(O.jsx)(d.a,{align:e.align||"center",className:t.root,component:"div",children:Object(O.jsx)(b.a,{color:"secondary",size:30,thickness:5,disableShrink:!0})})}var m="FETCH_PLACES",x="FETCH_PLACES_SUCCESS",y="FETCH_PLACES_FAILURE",v="RESET_STATE",T=n(68),E=n.n(T),S="".concat(window.location.origin,"/api"),_=E.a.create({baseURL:S}),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},L=function(e){return C(y,e)};function w(e){return function(t){t(C(m)),function(e){return _.get("/places",{params:e})}(e).then((function(e){return 200!==e.status&&t(L(e)),e})).then((function(e){var n;t((n=e.data,C(x,n)))})).catch((function(e){t(L(e))}))}}var F=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,167))})),N=Object(o.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(2)},titleTypo:{padding:e.spacing(1)},textField:{width:"350px"},notchedOutline:{borderWidth:"1px",borderColor:"grey !important"},resultsCountTypo:{padding:e.spacing(2)}}})),P=Object(p.b)((function(e){return{placesState:e.places}}),(function(e){return{searchPlaces:function(t){return e(w(t))}}}))((function(e){var t=e.searchPlaces,n=e.placesState,i=n.isLoading,r=n.isLoaded,o=n.isError,p=n.places,b=n.count,g=n.error,m=N(),x=Object(a.useState)(""),y=Object(s.a)(x,2),v=y[0],T=y[1],E=Object(h.a)(v,1e3),S=Object(s.a)(E,1)[0],_=Object(a.useState)(0),C=Object(s.a)(_,2),L=C[0],w=C[1],P=Object(a.useState)(0),A=Object(s.a)(P,2),I=A[0],k=A[1];return Object(a.useEffect)((function(){""!==S&&t({q:S})}),[S,t]),Object(a.useEffect)((function(){if(i){var e=(new Date).getTime();w(e)}if(r){var t=(new Date).getTime();k(t-L)}}),[i,r,L]),Object(O.jsx)("div",{className:m.root,children:Object(O.jsxs)(l.a,{container:!0,spacing:2,children:[Object(O.jsx)(l.a,{item:!0,xs:12,children:Object(O.jsx)(u.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(O.jsx)(j.a,{type:"text",variant:"outlined",className:m.textField,InputProps:{classes:{notchedOutline:m.notchedOutline}},placeholder:"Start typing to search...",value:v,onChange:function(e){return T(e.target.value)}})})}),i&&Object(O.jsx)(l.a,{item:!0,xs:12,children:Object(O.jsx)(f,{})}),r&&b?Object(O.jsxs)(c.a.Fragment,{children:[Object(O.jsxs)(d.a,{variant:"body1",className:m.resultsCountTypo,children:["About ",b," results (",I," ms)"]}),Object(O.jsx)(c.a.Suspense,{fallback:"Please wait while we load a place for your data...",children:p.map((function(e){return Object(O.jsx)(F,{place:e},e.place_id)}))})]}):!i&&Object(O.jsxs)(l.a,{item:!0,xs:12,children:[Object(O.jsxs)(d.a,{variant:"h6",component:"h2",align:"center",className:m.titleTypo,children:["No results for ",v]}),Object(O.jsx)(d.a,{align:"center",children:g})]}),!i&&o&&Object(O.jsxs)(l.a,{item:!0,xs:12,children:[Object(O.jsx)(d.a,{variant:"h6",component:"h2",align:"center",className:m.titleTypo,children:"Something went wrong"}),Object(O.jsx)(d.a,{align:"center",children:g})]})]})})})),A=n(71),I=n(147),k=n(148),D=n(43),R=n.n(D),H=function(e){var t=Object(A.a)({palette:{type:"light",contrastThreshold:3,tonalOffset:.2},typography:{fontSize:14,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}});return Object(O.jsxs)(I.a,{theme:t,children:[Object(O.jsx)(k.a,{}),Object(O.jsxs)(l.a,{component:"main",className:R.a.root,container:!0,spacing:2,children:[Object(O.jsx)(l.a,{item:!0,xs:6,children:Object(O.jsx)(d.a,{variant:"h5",component:"h1",className:R.a.titleTypo,children:"Formy"})}),Object(O.jsx)(l.a,{item:!0,xs:6,children:Object(O.jsx)(d.a,{variant:"h5",align:"right",component:"h1",className:R.a.titleTypo,children:"A simple place search API"})})]}),Object(O.jsx)(P,{})]})},U=n(23),z=n(70),B=n(69),J=n.n(B),X=n(29),q={places:[],count:0,isLoading:!1,isLoaded:!1,isError:!1},G=Object(U.b)({places:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(X.a)(Object(X.a)({},q),{},{isLoading:!0});case x:var n=t.payload.results;return{places:n,count:n.length,isLoading:!1,isLoaded:!0};case y:return Object(X.a)(Object(X.a)({},e),{},{isLoading:!1,isLoaded:!0,isError:!0});case v:return q;default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.c,V=Object(U.d)(G,M(Object(U.a)(z.a,J.a))),W=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,170)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},Z=document.getElementById("root");r.a.render(Object(O.jsx)(p.a,{store:V,children:Object(O.jsx)(H,{})}),Z),W()},43:function(e,t,n){e.exports={root:"App_root__BZeGF",titleTypo:"App_titleTypo__1CgyL"}}},[[109,1,2]]]);
//# sourceMappingURL=main.d03ae4d8.chunk.js.map